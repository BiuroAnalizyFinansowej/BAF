<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edytowalny Szablon: Nowe ≈örodki</title>
    <style>
        /* Zachowano style z orygina≈Çu */
        #back-controls-container { position: fixed; top: 20px; left: 30px; z-index: 1000; width: 140px; font-family: 'Lato', Arial, sans-serif; }
        #controls-container { position: fixed; top: 20px; right: 30px; z-index: 1000; width: 280px; font-family: 'Lato', Arial, sans-serif; }
        #copyButton, #backButton { padding: 10px 15px; font-size: 16px; font-weight: bold; color: white; border: none; border-radius: 5px; cursor: pointer; width: 100%; transition: background-color 0.3s; }
        #copyButton { background-color: #17a2b8; }
        #copyButton.copied { background-color: #28a745; }
        #backButton { background-color: #5F7A95; margin-bottom: 10px; }
        #subject-menu { background-color: #f8f9fa; border-radius: 5px; padding: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); margin-top: 15px; }
        .subject-button { display: block; width: 100%; padding: 8px 10px; margin-bottom: 8px; font-size: 14px; color: #138496; border: 1px solid #17a2b8; border-radius: 4px; cursor: pointer; background: white; text-align: left; }
        
        /* Styl dla obszaru edytowalnego */
        [contenteditable="true"]:hover { outline: 1px dashed #17a2b8; }
        [contenteditable="true"]:focus { outline: 2px solid #17a2b8; background-color: #fff; }
    </style>
</head>
<body style="margin: 0; padding: 0; background-color: #f4f7f9; font-family: 'Lato', Arial, sans-serif;">

    <div id="back-controls-container">
        <button id="backButton" onclick="history.back()">Powr√≥t</button>
        <div id="type-menu" style="background:#f8f9fa; padding:15px; border-radius:5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
            <h3 style="font-size:14px; margin-top:0;">Tryb ksiƒôgowo≈õci:</h3>
            <button class="type-button" onclick="switchAccountingType(this, 'kpir')" style="width:100%; margin-bottom:5px;">KPIR</button>
            <button class="type-button" onclick="switchAccountingType(this, 'ryczalt')" style="width:100%; margin-bottom:5px;">Rycza≈Çt</button>
            <button class="type-button" onclick="switchAccountingType(this, 'pelna')" style="width:100%;">Pe≈Çna</button>
        </div>
    </div>

    <div id="controls-container">
        <button id="copyButton">Kopiuj gotowy mail</button>
        <div id="subject-menu">
            <h3 style="font-size:14px; margin-top:0;">Tytu≈Çy maila:</h3>
            <button class="subject-button" onclick="copySubject(this, 'üîµ Dodatkowe finansowanie dla firmy ‚Äì lista dokument√≥w')">üîµ Dodatkowe finansowanie...</button>
            <button class="subject-button" onclick="copySubject(this, 'üîµ Wymagane dokumenty do analizy kredytowej')">üîµ Wymagane dokumenty...</button>
        </div>
    </div>
    
    <div id="email-content-wrapper">
        <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background-color: #f4f7f9;">
            <tr>
                <td align="center">
                    <table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 800px; background-color: #ffffff;">
                        <tr>
                            <td style="padding: 40px 50px;">
                                <div contenteditable="true">
                                    <h1 style="font-family: 'Lato', Arial, sans-serif; font-size: 28px; color: #002d5a;">Dzie≈Ñ dobry,</h1>
                                    <p style="font-size: 17px; color: #555; line-height: 1.6;">
                                        w nawiƒÖzaniu do rozmowy na temat dodatkowych ≈õrodk√≥w - poni≈ºej przesy≈Çam listƒô dokument√≥w potrzebnych do bezp≈Çatnej analizy kredytowej.
                                    </p>
                                </div>

                                <div style="background: #f8faff; border-left: 4px solid #007bff; padding: 25px; border-radius: 4px;">
                                    <h3 contenteditable="true" style="font-size: 19px; color: #0056b3; margin-top:0;">Dokumenty potrzebne do analizy:</h3>
                                    <ul contenteditable="true" id="editable-list" style="font-size: 16px; color: #555; line-height: 1.9;">
                                        <li id="li-bik"><strong>Raport BIK</strong> prywatny i firmowy ze strony www.bik.pl,</li>
                                        <li id="li-accounting-doc"><strong>Podsumowanie KPiR</strong> za rok 2025 oraz 2026,</li>
                                        <li id="li-pit"><strong>PIT</strong> za rok 2023 i 2024,</li>
                                        <li><strong>WyciƒÖgi z konta firmowego za 6m</strong>.</li>
                                    </ul>
                                </div>

                                <div contenteditable="true" style="margin-top: 30px;">
                                    <p style="font-size: 17px; color: #555; line-height: 1.6;">
                                        W razie pyta≈Ñ jestem do Pa≈Ñstwa dyspozycji mailowo i pod telefonem.
                                    </p>
                                </div>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>

    <script>
        // Skrypt kopiowania uwzglƒôdniajƒÖcy zmiany wprowadzone przez u≈ºytkownika
        document.getElementById('copyButton').addEventListener('click', () => {
            const emailContent = document.getElementById('email-content-wrapper').innerHTML;
            const blob = new Blob([emailContent], { type: 'text/html' });
            const data = [new ClipboardItem({ 'text/html': blob })];
            
            navigator.clipboard.write(data).then(() => {
                const btn = document.getElementById('copyButton');
                btn.textContent = 'Skopiowano!';
                btn.classList.add('copied');
                setTimeout(() => { btn.textContent = 'Kopiuj gotowy mail'; btn.classList.remove('copied'); }, 2000);
            });
        });

        function switchAccountingType(button, type) {
            const list = document.getElementById('editable-list');
            // Przyk≈Çad dynamicznej zmiany przy zachowaniu mo≈ºliwo≈õci edycji
            if(type === 'ryczalt') {
                list.innerHTML = '<li><strong>Raport BIK</strong>...</li><li><strong>Ewidencja przychod√≥w</strong>...</li>';
            } else if(type === 'pelna') {
                list.innerHTML = '<li><strong>Bilans i RZIS</strong>...</li>';
            } else {
                list.innerHTML = '<li><strong>Podsumowanie KPiR</strong>...</li><li><strong>PIT</strong>...</li>';
            }
        }

        function copySubject(button, text) {
            navigator.clipboard.writeText(text);
            button.textContent = 'Skopiowano!';
            setTimeout(() => { button.textContent = text.substring(0,20) + '...'; }, 1000);
        }
    </script>
</body>
</html>
